<div class="plus-opts-cnt">
  <div class="plus-opts-item">
    <div><strong>Modelos</strong></div>
    <app-visual-selector>
      <ng-container *ngFor="let c of currentData.models;  let i = index">
        <div
          class="vsi-item"
          [class.vsi-item-act]="c===modelSelected"
          (click)="selectModel(c)">{{c.name}}</div>
        <div class="vsi-item-divider" *ngIf="i!==currentData.models.length-1"></div>
      </ng-container>
    </app-visual-selector>
  </div>
  <div class="plus-opts-divider"></div>
  <div *ngIf="modelSelected" class="plus-opts-item">
    <div><strong>Diámetros externos</strong></div>
    <app-visual-selector>
      <ng-container *ngFor="let ed of [{name:38},{name:42}]; let i = index">
        <div class="vsi-item"
             [class.vsi-item-act]="ed===externalDiameterSelected"
             (click)="selectExternalDiameter(ed)"
        >{{ed.name}}</div>
        <div class="vsi-item-divider" *ngIf="i!== [{name:38},{name:42}].length-1"></div>
      </ng-container>
    </app-visual-selector>
  </div>
</div>
<app-item-config
  #caseConfig id='case-config'
  [hidden]="!externalDiameterSelected"
  [plusData]="{model:modelSelected, externalDiameter: externalDiameterSelected}"
  [partType]="partType"
  [items]="items">
  <div class="visualizador">

    <app-visualizer ttl="Frontal" scaleImg="2" [imgURL]="caseConfig.currentItem?.imgData.url"
                    [lock]="!caseConfig.isEditable"
                    (alSeleccionar)="caseConfig.onFileChanged($event)"></app-visualizer>

  </div>
  <div class="l-s">
    <div class="part-sub-tttl">
      <i class="fal fa-database doc-top-ico"></i>
      <div class="ttl"><strong>Datos generales</strong></div>
    </div>
    <div class="cnt-inputs">

      <app-input [isDisabled]="!caseConfig.isEditable" [value]="caseConfig.currentItem?.name" ttl="Nombre"
                 placeholder="Nombre"
                 (whenWriting)="caseConfig.writingName($event)"></app-input>

      <app-input [isDisabled]="true" [value]="caseConfig.currentItem?.model?.name" ttl="Modelo"
      ></app-input>
      <app-input [isDisabled]="true" [value]="caseConfig.currentItem?.externalDiameter?.name"
                 ttl="Diámetro externo"
      ></app-input>
      <!--<app-m-select [filteredStraps]="[itemConfig.currentItem.externalDiameter]"-->
      <!--[isDisabled]="true"-->
      <!--tittle="Modelo"-->
      <!--(whenSelecting)="caseConfig.currentItem.externalDiameter= $event"></app-m-select>-->
    </div>

    <div class="part-sub-tttl">
      <i class="fal fa-language doc-top-ico"></i>
      <div class="ttl"><strong>Datos multi-idioma</strong></div>
    </div>

    <app-tabs>
      <div class="tab-item-content"
           *ngFor="let t of currentData.supportedLangs"
           [class.tab-opt-act]="caseConfig.selectedLanguage===t" (click)="caseConfig.selectLanguage(t)">
        <div>{{t.name}}</div>
      </div>
    </app-tabs>

    <div class="cnt-inputs">
      <app-input
        ttl="Nombre"
        placeholder="Nombre"
        langCode="{{caseConfig.selectedLanguage?.code}}"
        [value]="caseConfig.currentItem[caseConfig.selectedLanguage.code]?.name"
        [isDisabled]="!caseConfig.isEditable"
        (whenWriting)="caseConfig.whenWriting($event)">
      </app-input>
      <app-input
        ttl="Modelo"
        placeholder="Modelo"
        [isDisabled]="!caseConfig.isEditable"
        [value]="caseConfig.currentItem[caseConfig.selectedLanguage.code]?.model"
        langCode="{{caseConfig.selectedLanguage.code}}"
        (whenWriting)="caseConfig.currentItem[caseConfig.selectedLanguage.code].model=$event">
      </app-input>
    </div>
  </div>
</app-item-config>
