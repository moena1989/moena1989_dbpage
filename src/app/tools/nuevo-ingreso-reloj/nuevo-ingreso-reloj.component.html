<!--MODAL!-->
<ngx-smart-modal #modal identifier="popup">
  <ng-container *ngIf="!validando">
    <h1>Confirmación</h1>
    <p>¿Seguro que deseas continuar y registrar el producto?</p>

    <div class="bt_opts">
      <div class="b bt" (click)="finalizarNuevoRegistro()">Si</div>
      <div class="c bt" (click)="modal.close()">Cancelar</div>
    </div>
  </ng-container>

  <div class="p_espera" *ngIf="validando">Espera un momento...</div>
</ngx-smart-modal>
<!--END MODAL-->

<div class="package_options">
  <div class="visuals">

    <div class="visualizador">
      <app-visualizer ttl="Frontal" (alSeleccionar)="onFileChanged($event,'frontal')"></app-visualizer>
    </div>

    <div class="all_opts">
      <h4 class="ttt">Datos de Registro</h4>
      <div class="_ln"></div>

      <div class="options">
        <app-m-select ttl="Mano" [opciones]="this.est.manos"></app-m-select>
        <app-m-select ttl="Fecha" [opciones]="[{name:'Fecha'}]"></app-m-select>
        <!--<app-m-select ttl="No. Lote" [opciones]="[{name: info_lotes.current.lote_num}]"></app-m-select>-->
        <!--<app-m-select ttl="ítem"-->
        <!--[opciones]="[{name: info_lotes.current.item_actual+'/'+info_lotes.current.cantidad_por_lote }]"></app-m-select>-->
      </div>
      <h4 class="ttt">Base</h4>
      <div class="_ln"></div>

      <div class="options">
        <app-m-select ttl="Modelo" [opciones]="est.modelos" (alSeleccionar)="seleccionarModelo($event)"></app-m-select>

        <app-m-select ttl="Colección" [opciones]="colecciones_del_modelo_selected"
                      (alSeleccionar)="seleccionarColeccion($event)"></app-m-select>

      </div>
      <!--*ngIf="ver_opciones_caja"-->
      <div class="options">
        <h4 class="ttt">Caracteristicas Caja</h4>
        <div class="_ln"></div>

        <div class="material_content"
             *ngFor="let item of current_opciones.opciones_materiales_del_modelo; let i = index">

          <app-m-select [disable]="lote_iniciado" [ttl]="item.name" [opciones]="item.items"
                        (alSeleccionar)="seleccionarTipo($event, i)">
          </app-m-select>

          <app-m-select [disable]="lote_iniciado" ttl="Material" [opciones]="current_opciones.materiales[i]"
                        (alSeleccionar)="seleccinarMaterial($event, i)">
          </app-m-select>
        </div>

        <!--<app-m-select ttl="Tipo" (alSeleccionar)="seleccionarTipo($event)"-->
        <!--[opciones]="current_opciones.tipo"></app-m-select>-->
        <!--<app-m-select ttl="Material" [opciones]="current_opciones.material"-->
        <!--(alSeleccionar)="seleccionarMaterial($event)"></app-m-select>-->
        <!--<app-m-select ttl="Diámetro" [opciones]="current_opciones.diametro"-->
        <!--(alSeleccionar)="seleccionarDiametro($event)"></app-m-select>-->

      </div>
      <!--*ngIf="ver_opciones_reloj"-->
      <div class="options">
        <h4 class="ttt">Cajas disponibles</h4>
        <div class="_ln"></div>
        <app-m-select ttl="Lote" [opciones]="current_opciones.lote"
                      (alSeleccionar)="seleccionarLote($event)"></app-m-select>
        <app-m-select ttl="No. Caja" [opciones]="current_opciones.cajas"
                      (alSeleccionar)="seleccionarCaja($event)"></app-m-select>
      </div>

      <h4 class="ttt">Caracteristicas de Personalización</h4>
      <div class="_ln"></div>
      <div class="options">
        <app-m-select *ngFor="let opc of opciones_por_ver" ttl="{{opc.nombre}}" [opciones]="opc.ops"
                      (alSeleccionar)="selectCaracteristica($event,opc.id,opc.nombre )"></app-m-select>
      </div>
    </div>
  </div>
  <div class="bt-n-ref" (click)="modal.open()">Iniciar nuevo registro</div>
</div>

<!--TARJETA QUE VISUALIZA EL NUEVO REGISTRO-->
<div class="pack" *ngIf="registrado">
  <h1>Reloj Registrado</h1>
  <app-reloj-buscado [dataReloj]="relojReg"></app-reloj-buscado>
  <div class="bt-n-ref" (click)="iniciarNuevoRegistro()">Iniciar Nuevo registro</div>
</div>
