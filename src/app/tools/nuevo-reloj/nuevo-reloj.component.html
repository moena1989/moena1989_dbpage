<!--MODAL!-->
<!--<ngx-smart-modal #modal identifier="popup_nuevo_reloj">-->
<!--<ng-container *ngIf="!validando">-->
<!--<h1>Confirmación</h1>-->
<!--<p>¿Seguro que deseas continuar y registrar el producto?</p>-->
<!--<div class="bt_opts">-->
<!--<div class="b bt" (click)="subir_nuevo_registro()">Si</div>-->
<!--<div class="c bt" (click)="modal.close()">Cancelar</div>-->
<!--</div>-->
<!--</ng-container>-->
<!--<div class="p_espera" *ngIf="validando && !subida_completa">-->
<!--<fa-icon class="load" [icon]="['fas','spinner']" [spin]="true"></fa-icon>-->
<!--Espera un momento...-->
<!--</div>-->

<!--<div class="pack" *ngIf="subida_completa">-->
<!--<h1>Reloj Registrado</h1>-->
<!--<app-reloj-buscado [dataReloj]="reloj_final"></app-reloj-buscado>-->
<!--<div class="bt-n-ref" (click)="iniciarNuevoRegistro()">Iniciar Nuevo registro</div>-->
<!--</div>-->
<!--</ngx-smart-modal>-->

<!--END MODAL-->


<div class="carta">
  <div class="top_card">
    <div class="top_ttl">Nuevo Reloj</div>
  </div>

  <div class="card_cnt">
    <div class="tts">
      <div class="visualizador">
        <app-visualizer ttl="Frontal" (alSeleccionar)="onFileChanged($event,'frontal')"></app-visualizer>
      </div>

      <div>
        <div class="ttt">1. Modelo y caracteristicas de la caja</div>

        <div class="cnt_opts">
          <app-m-select [disable]="false" ttl="Modelo" [opciones]="cajaEst.MODELOS"
                        (alSeleccionar)="seleccionarModelo($event)">
          </app-m-select>
          <div class="ln_v"></div>

          <ng-container *ngIf="current_opciones.opciones_caja">
            <!--<div class="options" *ngIf="current_opciones.opciones_caja">-->
            <app-m-select
              *ngIf="current_opciones.opciones_caja.diametro_externo"
              ttl="Diámetro Externo"
              [opciones]="current_opciones.opciones_caja.diametro_externo"
              (alSeleccionar)="seleccionarDiametroExterno($event)">
            </app-m-select>

            <app-m-select
              *ngIf="current_opciones.opciones_caja.diametro_interno"
              ttl="Diámetro Interno"
              [opciones]="current_opciones.opciones_caja.diametro_interno"
              (alSeleccionar)="seleccionarDiametroInterno($event)">
            </app-m-select>
          </ng-container>
        </div>
        <div class="ln" *ngIf="ver_opciones_caja"></div>
        <div class="ttt" *ngIf="ver_opciones_caja">2. Registro de Base</div>
        <div class="cnt_opts" *ngIf="ver_opciones_caja">
          <div>

            <app-m-select ttl="Lote" [opciones]="current_opciones.lotes"
                          (alSeleccionar)="seleccionarLote($event)"></app-m-select>

            <app-m-select ttl="No. Caja" [opciones]="current_opciones.cajas"
                          (alSeleccionar)="seleccionarCaja($event)"></app-m-select>
          </div>
          <div class="visualizador_caja">
            <img alt="preview caja seleccionada" [src]="photoUrl" *ngIf="photoUrl!==''" class="img_caja"/>
          </div>
        </div>

        <div class="ln" *ngIf="current_reloj.modelo"></div>
        <div class="ttt" *ngIf="current_reloj.modelo">3. Colección y caracteristicas de personalización</div>
        <div class="cnt_opts" *ngIf="current_reloj.modelo">
          <app-m-select ttl="Colección" [opciones]="current_opciones.colecciones"
                        (alSeleccionar)="seleccionarColeccion($event)"></app-m-select>
          <div class="ln_v"></div>

          <ng-container *ngIf="current_opciones.opciones_reloj">

            <app-m-select ttl="Color Maquinaria" *ngIf="current_opciones.opciones_reloj"
                          [opciones]="this.current_opciones.opciones_reloj.COLOR_MAQUINARIA"
                          (alSeleccionar)="seleccionarColorMaquinaria($event)"></app-m-select>
            <app-m-select ttl="Pulso tipo:" *ngIf="current_opciones.opciones_reloj"
                          [opciones]="this.current_opciones.opciones_reloj.TIPO_PULSO"
                          (alSeleccionar)="seleccionarTipoPulso($event)"></app-m-select>

            <app-m-select ttl="Color Pulso"
                          *ngIf="current_opciones.opciones_reloj && current_opciones.opciones_reloj.pulsos"
                          [opciones]="this.current_opciones.opciones_reloj.pulsos"
                          (alSeleccionar)="seleccionarColorPulso($event)"></app-m-select>
          </ng-container>
        </div>
      </div>
    </div>
    <div class="ln"></div>
    <div class="final_btn" *ngIf="true" (click)="modal.open()">
      Ingresar Nuevo Reloj
    </div>
  </div>
</div>
